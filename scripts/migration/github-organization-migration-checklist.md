# GitHub組織設定移行チェックリスト

**エス・エー・エス株式会社**  
*GitHub Enterprise 移行・設定適用チェックリスト*

## 📋 移行前準備

### 現状調査・分析
- [ ] 既存GitHub組織の設定状況調査
- [ ] 現在のリポジトリ一覧とアクセス権限の棚卸
- [ ] チーム構成とメンバーの整理
- [ ] 利用中の外部インテグレーションの確認
- [ ] 既存のCI/CDパイプラインの把握
- [ ] セキュリティ設定の現状把握

### 移行計画策定
- [ ] 移行スケジュールの作成
- [ ] 影響範囲の特定と関係者への通知
- [ ] ロールバック手順の準備
- [ ] テスト環境での事前検証計画
- [ ] ダウンタイム最小化戦略の策定

### バックアップ作成
- [ ] 組織設定のバックアップ（JSON形式）
- [ ] チーム設定とメンバー情報のエクスポート
- [ ] リポジトリ設定の一覧化
- [ ] Issues/PRデータのバックアップ（必要な場合）
- [ ] Wikiコンテンツのバックアップ
- [ ] Webhookとアプリケーション設定の記録

## 🏢 組織レベル設定

### 基本設定
- [ ] 組織名とプロフィール設定
- [ ] 組織の説明とWebサイトURL設定
- [ ] 組織アバター画像の設定
- [ ] 請求情報の確認・更新
- [ ] GitHub Enterprise ライセンスの確認

### セキュリティポリシー
- [ ] メンバーの2要素認証必須化
- [ ] SAML SSO設定（Azure AD連携）
- [ ] IP許可リストの設定（必要な場合）
- [ ] メンバーのベース権限設定（read/write/admin）
- [ ] 外部コラボレーターの権限制限

### リポジトリ作成権限
- [ ] `members_can_create_repositories: false`
- [ ] `members_can_create_public_repositories: false` 
- [ ] `members_can_create_private_repositories: false`
- [ ] `members_can_create_internal_repositories: false`
- [ ] `members_can_delete_repositories: false`
- [ ] `members_can_delete_issues: false`

### Advanced Security
- [ ] `advanced_security_enabled_for_new_repositories: true`
- [ ] `dependency_graph_enabled_for_new_repositories: true`
- [ ] `dependabot_alerts_enabled_for_new_repositories: true`
- [ ] `dependabot_security_updates_enabled_for_new_repositories: true`
- [ ] `dependency_review_enabled: true`
- [ ] `secret_scanning_enabled_for_new_repositories: true`

### その他組織設定
- [ ] `web_commit_signoff_required: true`
- [ ] `members_can_create_pages: false`
- [ ] `members_can_fork_private_repositories: false`
- [ ] プライベートリポジトリのフォーク許可設定
- [ ] デフォルトブランチ名の設定（main）

## 👥 チームとメンバー管理

### 必須チーム作成
- [ ] `developers` チーム（開発者）
  - [ ] チーム説明とアバター設定
  - [ ] メンバーの追加
  - [ ] 適切なリポジトリアクセス権限設定
- [ ] `devops` チーム（DevOps/インフラ）
  - [ ] チーム説明とアバター設定
  - [ ] メンバーの追加
  - [ ] admin権限の適切な設定
- [ ] `security` チーム（セキュリティ）
  - [ ] チーム説明とアバター設定
  - [ ] メンバーの追加
  - [ ] セキュリティレビュー権限の設定
- [ ] `reviewers` チーム（コードレビュアー）
  - [ ] チーム説明とアバター設定
  - [ ] メンバーの追加
  - [ ] レビュー権限の設定
- [ ] `admins` チーム（管理者）
  - [ ] チーム説明とアバター設定
  - [ ] 管理者メンバーの追加
  - [ ] owner権限の適切な設定

### メンバー管理
- [ ] 全メンバーのプロフィール確認
- [ ] 実名・所属部署の明記確認
- [ ] 2FA設定状況の確認
- [ ] 不要なメンバーの削除
- [ ] Outside Collaboratorの整理

### 権限マトリックス作成
- [ ] チーム別権限表の作成
- [ ] リポジトリアクセス権限表の作成
- [ ] 権限エスカレーションルールの文書化
- [ ] アクセス権限の定期見直しプロセス設定

## 📁 リポジトリ設定テンプレート

### 全リポジトリ共通設定
- [ ] プライベートリポジトリの確保
- [ ] Issues機能の有効化
- [ ] Wiki機能の設定（必要に応じて）
- [ ] Projects機能の設定
- [ ] Discussions機能の設定（必要に応じて）
- [ ] デフォルトブランチをmainに設定

### セキュリティ機能
- [ ] 脆弱性アラートの有効化
- [ ] 自動セキュリティ更新の有効化
- [ ] シークレットスキャンの有効化
- [ ] Code scanningの設定（CodeQL）
- [ ] 依存関係レビューの有効化

### ブランチ保護ルール（mainブランチ）
- [ ] 必須ステータスチェック
  - [ ] `ci/build` チェック
  - [ ] `ci/test` チェック  
  - [ ] `security/scan` チェック
  - [ ] strict mode（最新状態必須）
- [ ] プルリクエスト必須設定
  - [ ] 必要承認者数: 2名以上
  - [ ] 古いレビューの却下: 有効
  - [ ] コードオーナーレビュー必須: 有効
  - [ ] 最新プッシュ後の承認必須: 有効
- [ ] 管理者への適用: 有効
- [ ] 会話解決必須: 有効
- [ ] 強制プッシュ禁止: 有効
- [ ] ブランチ削除禁止: 有効
- [ ] リニア履歴必須: 有効

### 必須ファイル
- [ ] `README.md` - プロジェクト概要
- [ ] `.gitignore` - 適切な除外設定
- [ ] `CODEOWNERS` - コードオーナー設定
- [ ] `LICENSE` - ライセンス情報（必要に応じて）
- [ ] `.github/pull_request_template.md` - PRテンプレート
- [ ] `.github/ISSUE_TEMPLATE/` - Issueテンプレート
- [ ] `SECURITY.md` - セキュリティポリシー
- [ ] `CONTRIBUTING.md` - 貢献ガイド（必要に応じて）

## 🔄 CI/CD設定

### GitHub Actions設定
- [ ] `.github/workflows/` ディレクトリ作成
- [ ] CI/CDワークフロー設定
  - [ ] `ci-cd-main.yml` - メインワークフロー
  - [ ] `pr-tests.yml` - PR時テスト
  - [ ] `security-scan.yml` - セキュリティスキャン
  - [ ] `deploy-dev.yml` - Dev環境デプロイ
  - [ ] `deploy-staging.yml` - Staging環境デプロイ
  - [ ] `deploy-production.yml` - Production環境デプロイ
- [ ] セルフホストランナーの設定（必要な場合）
- [ ] Actions secrets の設定
- [ ] Environment protection rules の設定

### 環境設定
- [ ] Development環境設定
  - [ ] 自動デプロイ設定
  - [ ] 環境変数の設定
- [ ] Staging環境設定
  - [ ] 承認者設定
  - [ ] 必要なレビュアー設定
  - [ ] 環境変数の設定
- [ ] Production環境設定
  - [ ] 複数承認者設定
  - [ ] デプロイ時間制限
  - [ ] 環境変数の設定
  - [ ] シークレット管理

### Webhook設定
- [ ] 監視システム連携
- [ ] チャット通知（Teams/Slack）
- [ ] 外部システム連携
- [ ] Webhook署名検証の設定

## 🛡️ セキュリティとコンプライアンス

### Dependabot設定
- [ ] `.github/dependabot.yml` 作成
- [ ] パッケージマネージャー別設定
- [ ] 更新スケジュール設定
- [ ] レビュアー指定
- [ ] ラベル設定

### セキュリティポリシー
- [ ] 組織レベルセキュリティポリシー文書化
- [ ] 脆弱性報告プロセス文書化
- [ ] インシデント対応手順書作成
- [ ] セキュリティレビューガイドライン作成

### 監査設定
- [ ] 監査ログストリーミング設定
- [ ] SIEM連携設定（必要に応じて）
- [ ] アクセスログ監視設定
- [ ] 異常検知アラート設定

## 📊 監視とレポート

### GitHub Analytics
- [ ] Insights設定の確認
- [ ] Traffic analytics の有効化
- [ ] Dependency graph の確認
- [ ] Security advisories の設定

### 外部監視ツール
- [ ] 監視ダッシュボード設定
- [ ] アラート設定
- [ ] メトリクス収集設定
- [ ] レポート自動生成設定

### 定期レポート
- [ ] 週次アクティビティレポート
- [ ] 月次セキュリティレポート
- [ ] 四半期コンプライアンスレポート
- [ ] 年次監査レポート

## 🧪 移行後検証

### 機能テスト
- [ ] 認証・認可機能の動作確認
- [ ] CI/CDパイプラインの動作確認
- [ ] ブランチ保護ルールの動作確認
- [ ] セキュリティスキャンの動作確認
- [ ] 通知機能の動作確認

### パフォーマンステスト
- [ ] ビルド時間の測定
- [ ] テスト実行時間の測定
- [ ] デプロイ時間の測定
- [ ] API応答時間の測定

### セキュリティテスト
- [ ] 脆弱性スキャン実行
- [ ] ペネトレーションテスト（必要に応じて）
- [ ] アクセス制御テスト
- [ ] データ漏洩防止テスト

### ユーザーアクセシビリティ
- [ ] 開発者アカウントでのアクセステスト
- [ ] 外部コラボレーターアクセステスト
- [ ] チーム権限動作確認
- [ ] ワークフロー実行確認

## 📚 ドキュメント更新

### 内部ドキュメント
- [ ] 運用手順書の更新
- [ ] 障害対応手順書の更新
- [ ] 権限管理手順書の作成
- [ ] バックアップ・復旧手順書の更新

### 外部向けドキュメント
- [ ] 開発ガイドラインの更新
- [ ] コントリビューションガイドの更新
- [ ] API ドキュメントの更新（必要に応じて）

### トレーニング資料
- [ ] 新規参入者向けオンボーディング資料
- [ ] GitHub操作研修資料
- [ ] セキュリティ研修資料
- [ ] トラブルシューティングガイド

## 🎓 チーム教育とオンボーディング

### 研修実施
- [ ] GitHub Enterprise 基本操作研修
- [ ] 新ワークフロー説明会
- [ ] セキュリティベストプラクティス研修
- [ ] CI/CD パイプライン研修

### サポート体制
- [ ] 質問窓口の設置
- [ ] 内部チャンピオンの選出
- [ ] FAQ文書の作成
- [ ] ヘルプデスク対応手順の整備

### フィードバック収集
- [ ] 移行後アンケート実施
- [ ] 定期的なフィードバックセッション
- [ ] 改善提案の収集と対応
- [ ] 満足度調査の実施

## ⚡ 緊急時対応

### ロールバック準備
- [ ] ロールバック手順書の準備
- [ ] 緊急時連絡先リストの作成
- [ ] エスカレーション手順の文書化
- [ ] 代替手段の準備

### インシデント対応
- [ ] インシデント対応チームの編成
- [ ] 24時間対応体制の確保
- [ ] ステータスページの準備
- [ ] コミュニケーション計画の策定

## 📅 移行スケジュール例

### フェーズ1: 準備（1-2週間）
- [ ] 現状調査完了
- [ ] 移行計画策定完了
- [ ] バックアップ作成完了
- [ ] テスト環境構築完了

### フェーズ2: 基盤設定（1-2週間）
- [ ] 組織設定完了
- [ ] チーム・メンバー設定完了
- [ ] 基本セキュリティ設定完了

### フェーズ3: リポジトリ移行（2-4週間）
- [ ] リポジトリ設定適用完了
- [ ] CI/CD設定完了
- [ ] セキュリティ機能設定完了

### フェーズ4: 検証・教育（1-2週間）
- [ ] 全機能テスト完了
- [ ] チーム教育実施完了
- [ ] ドキュメント整備完了

### フェーズ5: 本格運用（継続）
- [ ] 本格運用開始
- [ ] 継続的監視・改善
- [ ] 定期レビューの実施

## ✅ 最終確認チェックリスト

### 技術的確認
- [ ] 全システムの動作確認完了
- [ ] パフォーマンス目標達成
- [ ] セキュリティ要件満足
- [ ] バックアップ・復旧テスト完了

### 運用確認  
- [ ] 運用手順書整備完了
- [ ] サポート体制構築完了
- [ ] 監視・アラート設定完了
- [ ] レポート機能動作確認完了

### 組織的確認
- [ ] 全メンバーの研修完了
- [ ] 承認プロセス確認完了
- [ ] コンプライアンス要件満足
- [ ] ステークホルダー承認取得

---

**移行責任者**: _______________  
**承認者**: _______________  
**完了日**: _______________

**注意事項**:
- 移行作業は必ずテスト環境で事前検証してから実施する
- 各段階でバックアップを取得し、ロールバック可能な状態を維持する
- 問題が発生した場合は即座に移行責任者に報告する
- セキュリティに関わる設定変更は必ずセキュリティチームの確認を得る